{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roger\\\\BukBuk\\\\frontend\\\\src\\\\components\\\\search-item\\\\Input.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { bookSearch } from \"./api\";\nimport \"../../css files/Input.css\";\nimport Item from \"./Item\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Input = props => {\n  _s();\n\n  const [books, setBooks] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  useEffect(() => {\n    if (query.length > 0) {\n      bookSearchHttpHandler(query, true);\n    }\n  }, [query]); // 엔터를 눌렀을 때 호출 되는 함수\n\n  const onEnter = e => {\n    if (e.keyCode === 13) {\n      setQuery(text);\n    }\n\n    if (window.location.pathname !== '/') {\n      alert('검색은 메인페이지를 이용하세요');\n    }\n  };\n\n  const onClick = () => {\n    if (window.location.pathname === '/') {\n      setQuery(text);\n    } else {\n      alert(\"검색은 메인페이지를 이용하세요\");\n    }\n  }; // text 검색어가 바뀔 때 호출되는 함수.\n\n\n  const onTextUpdate = e => {\n    setText(e.target.value);\n  };\n\n  const bookSearchHttpHandler = async (query, reset) => {\n    const params = {\n      query: query,\n      sort: \"accuracy\",\n      // accuracy | recency 정확도 or 최신\n      page: 1,\n      // 페이지번호\n      size: 20 // 한 페이지에 보여 질 문서의 개수\n\n    }; // 책의 정보\n\n    const {\n      data\n    } = await bookSearch(params);\n\n    if (reset) {\n      setBooks(data.documents); //책 정보들이 콘솔창에 띄워짐.\n    } else {\n      setBooks(books.concat(data.documents));\n    }\n  }; // console.log(window.location.pathname)\n  // console.log(books);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-type\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        name: \"query\",\n        placeholder: \"\\uB3C4\\uC11C\\uBA85 / isbn \\uAC80\\uC0C9\",\n        className: \"input-search\",\n        onKeyDown: onEnter,\n        onChange: onTextUpdate,\n        value: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"search\",\n        onClick: onClick,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSxsZsjY46D3whfdkqeE3BvzAKy61374wBUGw&usqp=CAU\",\n          alt: \"search-btn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"item-box\",\n        children: books.map((book, index) => /*#__PURE__*/_jsxDEV(Item, {\n          thumbnail: book.thumbnail,\n          title: book.title,\n          blogname: book.blogname,\n          contents: book.contents,\n          url: book.url,\n          authors: book.authors\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Input, \"xHY2k6nS4YhGEBo7Jkf+A09DcdA=\");\n\n_c = Input;\nexport default Input;\n\nvar _c;\n\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"names":["React","useEffect","useState","bookSearch","Item","Input","props","books","setBooks","text","setText","query","setQuery","length","bookSearchHttpHandler","onEnter","e","keyCode","window","location","pathname","alert","onClick","onTextUpdate","target","value","reset","params","sort","page","size","data","documents","concat","map","book","index","thumbnail","title","blogname","contents","url","authors"],"sources":["C:/Users/roger/BukBuk/frontend/src/components/search-item/Input.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { bookSearch } from \"./api\";\r\nimport \"../../css files/Input.css\";\r\nimport Item from \"./Item\";\r\n\r\nconst Input = props => {\r\n  const [books, setBooks] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (query.length > 0) {\r\n      bookSearchHttpHandler(query, true);\r\n    }\r\n  }, [query]);\r\n\r\n  // 엔터를 눌렀을 때 호출 되는 함수\r\n  const onEnter = e => {\r\n    if (e.keyCode === 13)  {\r\n      setQuery(text);\r\n    }if (window.location.pathname !=='/'){\r\n      alert('검색은 메인페이지를 이용하세요')\r\n    }\r\n  };\r\n  const onClick = () =>{\r\n    if(window.location.pathname === '/'){\r\n      setQuery(text)\r\n    }else{\r\n      alert(\"검색은 메인페이지를 이용하세요\")\r\n    }\r\n  }\r\n\r\n  // text 검색어가 바뀔 때 호출되는 함수.\r\n  const onTextUpdate = e => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const bookSearchHttpHandler = async (query, reset) => {\r\n    const params = {\r\n      query: query,\r\n      sort: \"accuracy\", // accuracy | recency 정확도 or 최신\r\n      page: 1, // 페이지번호\r\n      size: 20 // 한 페이지에 보여 질 문서의 개수\r\n    };\r\n\r\n\r\n    // 책의 정보\r\n    const { data } = await bookSearch(params);\r\n    if (reset) {\r\n      setBooks(data.documents); //책 정보들이 콘솔창에 띄워짐.\r\n    } else {\r\n      setBooks(books.concat(data.documents));\r\n    }\r\n  };\r\n  // console.log(window.location.pathname)\r\n  // console.log(books);\r\n  return (\r\n    <>\r\n    <div className=\"search-type\">\r\n        <input \r\n        type=\"search\" \r\n        name=\"query\" \r\n        placeholder=\"도서명 / isbn 검색\" \r\n        className=\"input-search\"\r\n        onKeyDown={onEnter}\r\n        onChange={onTextUpdate}\r\n        value={text}\r\n        />\r\n    </div>\r\n    <div className=\"search-btn\">\r\n        <button \r\n        type=\"search\"\r\n        onClick={onClick}>\r\n          <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSxsZsjY46D3whfdkqeE3BvzAKy61374wBUGw&usqp=CAU\" alt=\"search-btn\" />\r\n        </button>\r\n    </div>\r\n    <div>\r\n        <ul className=\"item-box\">\r\n            {books.map((book, index) => (\r\n        <Item\r\n            key={index}\r\n            thumbnail={book.thumbnail}\r\n            title={book.title}\r\n            blogname={book.blogname}\r\n            contents={book.contents}\r\n            url={book.url}\r\n            authors ={book.authors}\r\n        />\r\n        ))}\r\n        </ul> \r\n    </div>\r\n    </>\r\n  );\r\n};\r\nexport default Input;"],"mappings":"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"},"metadata":{},"sourceType":"module"}